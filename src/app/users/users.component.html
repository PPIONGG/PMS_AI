<div style="display: flex; justify-content: center;margin-top: 1em;">
  <mat-card style="width: 100%;">
    <div class="card">
      <p-toast></p-toast>
      <p-table [value]="dataAll" dataKey="id" editMode="row">
        <ng-template pTemplate="header">
          <tr>
            <th style="display: flex;padding-left: 3em;">First Name</th>
            <th>Last Name</th>
            <th>Email</th>
            <th>Password</th>
            <th></th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-product let-editing="editing" let-ri="rowIndex">
          <tr [pEditableRow]="product">
            <td>
              <p-cellEditor>
                <ng-template pTemplate="output">
                  {{ product.firstname }}
                </ng-template>
                <ng-template pTemplate="input">
                  <input pInputText type="text" [(ngModel)]="product.firstname" required>
                </ng-template>
              </p-cellEditor>
            </td>
            <td>
              <p-cellEditor>
                <ng-template pTemplate="output">
                  {{ product.lastname }}
                </ng-template>
                <ng-template pTemplate="input">
                  <input pInputText type="text" [(ngModel)]="product.lastname" required>
                </ng-template>
              </p-cellEditor>
            </td>
            <td>
              <p-cellEditor>
                <ng-template pTemplate="output">
                  {{ product.email }}
                </ng-template>
                <ng-template pTemplate="input">
                  <input pInputText type="text" [(ngModel)]="product.email" required>
                </ng-template>
              </p-cellEditor>
            </td>
            <td>
              <p-cellEditor>
                <ng-template pTemplate="output">
                  {{ product.password }}
                </ng-template>
                <ng-template pTemplate="input">
                  <input pInputText type="text" [(ngModel)]="product.password" required>
                </ng-template>
              </p-cellEditor>
            </td>
            <td>
              <div class="flex align-items-center justify-content-center gap-2">
                <button *ngIf="!editing" pButton pRipple type="button" pInitEditableRow icon="pi pi-pencil"
                  class="p-button-rounded p-button-text" ></button>
                <button *ngIf="!editing" pButton pRipple type="button" icon="pi pi-trash"
                  class="p-button-rounded p-button-text" (click)="deleteItem(product._id)"></button>
                <button *ngIf="editing" pButton pRipple type="button" pSaveEditableRow icon="pi pi-check"
                  class="p-button-rounded p-button-text p-button-success mr-2"
                  (click)="editItem(product._id, product)"></button>
                <button *ngIf="editing" pButton pRipple type="button" pCancelEditableRow icon="pi pi-times"
                  class="p-button-rounded p-button-text p-button-danger" (click)="cancelEdit()"></button>
              </div>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </mat-card>
</div>
